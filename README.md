# Media Assistant API

[English](README.en.md) | ç®€ä½“ä¸­æ–‡

Media Assistant API æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ Markdown è½¬ HTML æœåŠ¡ï¼Œè‡´åŠ›äºæä¾›ç¾è§‚ä¸”å¯å®šåˆ¶çš„å†…å®¹è½¬æ¢èƒ½åŠ›ã€‚æ”¯æŒå¤šç§é«˜çº§ç‰¹æ€§ï¼Œè®© Markdown å†…å®¹è½¬æ¢æ›´çµæ´»ã€æ›´ä¸“ä¸šã€‚

ğŸ‘‰ åœ¨çº¿ä½“éªŒï¼š[ç‚¹å‡»å‰å¾€](https://md.openwrite.cn/)

---

## ğŸ“ å¼€å‘è®¡åˆ’ï¼ˆTODOï¼‰

### ğŸ¨ åŠŸèƒ½å¢å¼º

* âœ… æ”¯æŒæ›´å¤š Markdown æ‰©å±•è¯­æ³•
* âœ… æ·»åŠ å¤šç§é¢„è®¾ä¸»é¢˜
* âœ… åŠ¨æ€æ ·å¼åˆ‡æ¢
* âœ… è‡ªå®šä¹‰å­—ä½“ä¸æ ·å¼
* âœ… æ”¯æŒè‡ªå®šä¹‰ CSS ä¸ä»£ç é«˜äº®ä¸»é¢˜
* â¬œ å¢åŠ å›¾ç‰‡å¤„ç†åŠŸèƒ½ï¼ˆå‹ç¼©ã€æ°´å°ç­‰ï¼‰
* â¬œ æ”¯æŒå¯¼å‡º PDF æ ¼å¼

### ğŸ“š æ–‡æ¡£å®Œå–„

* âœ… æä¾›å®Œæ•´çš„ API ä½¿ç”¨ç¤ºä¾‹
* â¬œ ç¼–å†™è´¡çŒ®æŒ‡å—
* â¬œ è¡¥å……å¸¸è§é—®é¢˜è§£ç­”ï¼ˆFAQï¼‰
* âœ… æä¾›åœ¨çº¿æ¼”ç¤ºç¯å¢ƒ

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¨ è‡ªå®šä¹‰ä¸»é¢˜æ ·å¼

* é…ç½®å­—ä½“ã€é¢œè‰²ã€é—´è·ç­‰å‚æ•°
* æ”¯æŒæš—é»‘æ¨¡å¼
* æä¾›å¤šå¥—ä¸»é¢˜ï¼Œæ”¯æŒè‡ªå®šä¹‰ CSS è¦†ç›–

### ğŸ“Š Mermaid å›¾è¡¨æ”¯æŒ

* æµç¨‹å›¾ã€æ—¶åºå›¾ã€ç”˜ç‰¹å›¾ã€ç±»å›¾ç­‰

### âœï¸ æ•°å­¦å…¬å¼æ”¯æŒï¼ˆKaTeXï¼‰

* è¡Œå†…ä¸å—çº§å…¬å¼
* å®Œæ•´æ”¯æŒ KaTeX è¯­æ³•

### ğŸ¯ è‡ªå®šä¹‰æç¤ºæ¡†

* æ”¯æŒä¿¡æ¯ã€è­¦å‘Šã€é”™è¯¯ã€æˆåŠŸå››ç§æç¤ºç±»å‹

### ğŸ’« Mac é£æ ¼ä»£ç å—

* é«˜äº®ã€è¡Œå·ã€å¤åˆ¶æŒ‰é’®ã€è¯­è¨€æ ‡è¯†

### ğŸ”— è„šæ³¨ä¸å¼•ç”¨é“¾æ¥æ”¯æŒ

### ğŸ“± å“åº”å¼è®¾è®¡ï¼Œå®Œç¾é€‚é…ç§»åŠ¨ç«¯

### ğŸˆ è½»é‡éƒ¨ç½²ï¼Œå¿«é€Ÿä¸Šæ‰‹

---

## ğŸ“¦ API æ¥å£è¯´æ˜

### Markdown è½¬ HTML

* **æ¥å£è·¯å¾„**ï¼š`POST /markdown/html`
* **è¯·æ±‚å¤´**ï¼š`Content-Type: application/json`
* **è¯·æ±‚ä½“**ï¼š

```json
{
  "data": "# Markdown å†…å®¹",           // å¿…å¡«
  "isMacCodeBlock": true,               // å¯ç”¨ Mac é£æ ¼ä»£ç å—ï¼ˆå¯é€‰ï¼‰
  "theme": "default",                  // ä¸»é¢˜åç§°ï¼šdefaultã€graceï¼ˆå¯é€‰ï¼‰
  "fontFamily": "æ— è¡¬çº¿",              // å­—ä½“ç±»å‹ï¼šæ— è¡¬çº¿ã€è¡¬çº¿ã€ç­‰å®½ï¼ˆå¯é€‰ï¼‰
  "fontSize": "15px",                 // å­—ä½“å¤§å°ï¼ˆä¾‹å¦‚ï¼š14pxï¼‰ï¼ˆå¯é€‰ï¼‰
  "isUseIndent": true,                 // æ˜¯å¦å¯ç”¨ç¼©è¿›ï¼ˆå¯é€‰ï¼‰
  "primaryColor": "#1890ff",          // ä¸»è‰²è°ƒï¼ˆå¯é€‰ï¼‰
  "citeStatus": true,                  // æ˜¯å¦å¯ç”¨å¼•ç”¨ï¼ˆå¯é€‰ï¼‰
  "legend": "åªæ˜¾ç¤º title",            // å›¾ä¾‹æ ·å¼ï¼ˆå¯é€‰ï¼‰
  "codeTheme": "1c-light"             // ä»£ç é«˜äº®ä¸»é¢˜ï¼ˆå¯é€‰ï¼‰
}
```

* **å“åº”ç¤ºä¾‹**ï¼š

```json
{
  "status": "success",
  "data": {
    "html": "<div class='markdown-body'>...è½¬æ¢åçš„HTMLå†…å®¹...</div>"
  }
}
```

### æ”¯æŒçš„ä»£ç é«˜äº®ä¸»é¢˜

| ä¸»é¢˜åç§°            | æè¿°                 |
| ------------------- | -------------------- |
| `1c-light`          | 1Cè¯­è¨€æµ…è‰²ä¸»é¢˜       |
| `a11y-dark`         | æ— éšœç¢æ·±è‰²ä¸»é¢˜       |
| `a11y-light`        | æ— éšœç¢æµ…è‰²ä¸»é¢˜       |
| `agate`             | ç›ç‘™ä¸»é¢˜             |
| `an-old-hope`       | æ—§å¸Œæœ›ä¸»é¢˜           |
| `androidstudio`     | Android Studio é£æ ¼  |
| `arduino-light`     | Arduino æµ…è‰²ä¸»é¢˜     |
| `arta`              | è‰ºæœ¯ä¸»é¢˜             |
| `ascetic`           | ç®€æœ´ä¸»é¢˜             |
| `atom-one-dark`     | Atom æ·±è‰²ä¸»é¢˜        |
| `atom-one-light`    | Atom æµ…è‰²ä¸»é¢˜        |
| `github-dark`       | GitHub æ·±è‰²ä¸»é¢˜      |
| `github`            | GitHub æ ‡å‡†ä¸»é¢˜      |
| `monokai`           | Monokai ç»å…¸ä¸»é¢˜     |
| `monokai-sublime`   | Sublime Monokai é£æ ¼ |
| `nord`              | åŒ—æ¬§æå…‰é£æ ¼ä¸»é¢˜     |
| `tokyo-night-dark`  | ä¸œäº¬ä¹‹å¤œæ·±è‰²ä¸»é¢˜     |
| `tokyo-night-light` | ä¸œäº¬ä¹‹å¤œæµ…è‰²ä¸»é¢˜     |
| `vs`                | Visual Studio ä¸»é¢˜   |
| `vs2015`            | Visual Studio 2015   |
| `xcode`             | Xcode é£æ ¼           |

---

### ğŸ–¼ï¸ Markdown ç¤ºä¾‹é¢„è§ˆ

* **æ¥å£è·¯å¾„**ï¼š`GET /markdown/preview`
* **æ”¯æŒå‚æ•°**ï¼šåŒä¸Š
* **å“åº”**ï¼šè¿”å› HTML é¡µé¢ï¼Œå†…å«é¢„è§ˆæ•ˆæœ

ç¤ºä¾‹å›¾ï¼š
![é¢„è§ˆæ•ˆæœå›¾](assets/preview.png)

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

```bash
# å…‹éš†ä»“åº“
git clone git@github.com:code-innovator-zyx/media-assistant-api.git
cd media-assistant-api

# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨å¼€å‘æœåŠ¡
pnpm dev
```

---

## ğŸ› ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

åœ¨æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
PORT=3000
NODE_ENV=development
```

### é»˜è®¤ä¸»é¢˜é…ç½®

åœ¨ `src/config/theme.ts` ä¸­è‡ªå®šä¹‰ï¼š

```ts
export const themes = {
  default: {
    fontSize: '16px',
    lineHeight: '1.6',
    // æ›´å¤šé…ç½®...
  },
  dark: {
    // æš—é»‘ä¸»é¢˜é…ç½®
  }
}
```

---

## ğŸ“Œ ç¤ºä¾‹è°ƒç”¨ï¼ˆPythonï¼‰

```python
def parse_html(md: str):
    params = {
        "data": md,
        "isMacCodeBlock": False,
        "fontSize": "14px"
    }
    res = requests.post(
        url="http://localhost:8080/api/markdown/html",
        data=json.dumps(params),
        headers={"Content-Type": "application/json"}
    )
    res.raise_for_status()
    return res.json()["data"]
```

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬é¡¹ç›®
2. æ–°å»ºåˆ†æ”¯ï¼š`git checkout -b feature/ä½ çš„åŠŸèƒ½åç§°`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'æ·»åŠ åŠŸèƒ½è¯´æ˜'`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/ä½ çš„åŠŸèƒ½åç§°`
5. å‘èµ· Pull Request

---

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®éµå¾ª [MIT](LICENSE) åè®®å¼€æºï¼Œæ¬¢è¿ä½¿ç”¨ä¸è´¡çŒ®ï¼
