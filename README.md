# Media Assistant API

[English](README.en.md) | ç®€ä½“ä¸­æ–‡

Media Assistant API æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ Markdown è½¬ HTML æœåŠ¡ï¼Œè‡´åŠ›äºæä¾›ç¾è§‚ä¸”å¯å®šåˆ¶çš„å†…å®¹è½¬æ¢èƒ½åŠ›ã€‚æ”¯æŒå¤šç§é«˜çº§ç‰¹æ€§ï¼Œè®© Markdown å†…å®¹è½¬æ¢æ›´çµæ´»ã€æ›´ä¸“ä¸šã€‚

ğŸ‘‰ åœ¨çº¿ä½“éªŒï¼š[ç‚¹å‡»å‰å¾€](https://md.openwrite.cn/)

---

## ğŸ“ å¼€å‘è®¡åˆ’ï¼ˆTODOï¼‰

### ğŸ¨ åŠŸèƒ½å¢å¼º

* âœ… æ”¯æŒæ›´å¤š Markdown æ‰©å±•è¯­æ³•
* âœ… æ·»åŠ å¤šç§é¢„è®¾ä¸»é¢˜
* âœ… åŠ¨æ€æ ·å¼åˆ‡æ¢
* âœ… è‡ªå®šä¹‰å­—ä½“ä¸æ ·å¼
* âœ… æ”¯æŒè‡ªå®šä¹‰ CSS ä¸ä»£ç é«˜äº®ä¸»é¢˜
* â¬œ å¢åŠ å›¾ç‰‡å¤„ç†åŠŸèƒ½ï¼ˆå‹ç¼©ã€æ°´å°ç­‰ï¼‰
* â¬œ æ”¯æŒå¯¼å‡º PDF æ ¼å¼

### ğŸ“š æ–‡æ¡£å®Œå–„

* âœ… æä¾›å®Œæ•´çš„ API ä½¿ç”¨ç¤ºä¾‹
* â¬œ ç¼–å†™è´¡çŒ®æŒ‡å—
* â¬œ è¡¥å……å¸¸è§é—®é¢˜è§£ç­”ï¼ˆFAQï¼‰
* âœ… æä¾›åœ¨çº¿æ¼”ç¤ºç¯å¢ƒ

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¨ è‡ªå®šä¹‰ä¸»é¢˜æ ·å¼

* é…ç½®å­—ä½“ã€é¢œè‰²ã€é—´è·ç­‰å‚æ•°
* æ”¯æŒæš—é»‘æ¨¡å¼
* æä¾›å¤šå¥—ä¸»é¢˜ï¼Œæ”¯æŒè‡ªå®šä¹‰ CSS è¦†ç›–

### ğŸ“Š Mermaid å›¾è¡¨æ”¯æŒ

* æµç¨‹å›¾ã€æ—¶åºå›¾ã€ç”˜ç‰¹å›¾ã€ç±»å›¾ç­‰

### âœï¸ æ•°å­¦å…¬å¼æ”¯æŒï¼ˆKaTeXï¼‰

* è¡Œå†…ä¸å—çº§å…¬å¼
* å®Œæ•´æ”¯æŒ KaTeX è¯­æ³•

### ğŸ¯ è‡ªå®šä¹‰æç¤ºæ¡†

* æ”¯æŒä¿¡æ¯ã€è­¦å‘Šã€é”™è¯¯ã€æˆåŠŸå››ç§æç¤ºç±»å‹

### ğŸ’« Mac é£æ ¼ä»£ç å—

* é«˜äº®ã€è¡Œå·ã€å¤åˆ¶æŒ‰é’®ã€è¯­è¨€æ ‡è¯†

### ğŸ”— è„šæ³¨ä¸å¼•ç”¨é“¾æ¥æ”¯æŒ

### ğŸ“± å“åº”å¼è®¾è®¡ï¼Œå®Œç¾é€‚é…ç§»åŠ¨ç«¯

### ğŸˆ è½»é‡éƒ¨ç½²ï¼Œå¿«é€Ÿä¸Šæ‰‹

---

## ğŸ“¦ API æ¥å£è¯´æ˜

### Markdown è½¬ HTML

* **æ¥å£è·¯å¾„**ï¼š`POST /markdown/html`
* **è¯·æ±‚å¤´**ï¼š`Content-Type: application/json`
* **è¯·æ±‚ä½“**ï¼š

```json
{
  "data": "# Markdown å†…å®¹",           // å¿…å¡«
  "isMacCodeBlock": true,               // å¯ç”¨ Mac é£æ ¼ä»£ç å—ï¼ˆå¯é€‰ï¼‰
  "theme": "default",                  // ä¸»é¢˜åç§°ï¼šdefaultã€graceï¼ˆå¯é€‰ï¼‰
  "fontFamily": "æ— è¡¬çº¿",              // å­—ä½“ç±»å‹ï¼šæ— è¡¬çº¿ã€è¡¬çº¿ã€ç­‰å®½ï¼ˆå¯é€‰ï¼‰
  "fontSize": "15px",                 // å­—ä½“å¤§å°ï¼ˆä¾‹å¦‚ï¼š14pxï¼‰ï¼ˆå¯é€‰ï¼‰
  "isUseIndent": true,                 // æ˜¯å¦å¯ç”¨ç¼©è¿›ï¼ˆå¯é€‰ï¼‰
  "primaryColor": "#1890ff",          // ä¸»è‰²è°ƒï¼ˆå¯é€‰ï¼‰
  "citeStatus": true,                  // æ˜¯å¦å¯ç”¨å¼•ç”¨ï¼ˆå¯é€‰ï¼‰
  "legend": "åªæ˜¾ç¤º title",            // å›¾ä¾‹æ ·å¼ï¼ˆå¯é€‰ï¼‰
  "codeTheme": "1c-light"             // ä»£ç é«˜äº®ä¸»é¢˜ï¼ˆå¯é€‰ï¼‰
}
```

* **å“åº”ç¤ºä¾‹**ï¼š

```json
{
  "status": "success",
  "data": {
    "html": "<div class='markdown-body'>...è½¬æ¢åçš„HTMLå†…å®¹...</div>"
  }
}
```

### æ”¯æŒçš„ä»£ç é«˜äº®ä¸»é¢˜
| ä¸»é¢˜å                   | å¼‚å          | é£æ ¼æè¿°                     |
| ------------------------ | --------------- | ---------------------------- |
| 1c-light                 | 1C æµ…è‰²         | é€‚åˆ 1C é£æ ¼ï¼Œæµ…è‰²æ˜å¿«       |
| a11y-dark                | æ— éšœç¢æ·±è‰²      | é«˜å¯¹æ¯”åº¦ï¼Œé€‚åˆæ— éšœç¢é˜…è¯»     |
| a11y-light               | æ— éšœç¢æµ…è‰²      | é«˜å¯¹æ¯”åº¦æµ…è‰²ä¸»é¢˜             |
| agate                    | ç›ç‘™            | æ·±è‰²æŸ”å’Œé£æ ¼                 |
| an-old-hope              | æ—§å¸Œæœ›          | æ·±è‰²å¸¦è“è°ƒï¼Œçµæ„Ÿè‡ª Star Wars |
| androidstudio            | å®‰å“å·¥ä½œå®¤      | Android Studio ç¼–è¾‘å™¨é…è‰²    |
| arduino-light            | Arduino æµ…è‰²    | Arduino IDE é£æ ¼             |
| arta                     | è‰ºæœ¯            | äº®è‰²å¯¹æ¯”å¼ºçƒˆï¼Œè‰ºæœ¯æ„Ÿå¼º       |
| ascetic                  | ç®€æœ´            | æç®€æ— èƒŒæ™¯ï¼Œå¹²å‡€æ¸…çˆ½         |
| atom-one-dark-reasonable | Atom åˆç†æ·±è‰²   | åŸºäº Atom ç¼–è¾‘å™¨ï¼Œä¼˜åŒ–å¯¹æ¯”åº¦ |
| atom-one-dark            | Atom æ·±è‰²       | ç»å…¸ Atom ç¼–è¾‘å™¨æ·±è‰²ä¸»é¢˜     |
| atom-one-light           | Atom æµ…è‰²       | ç»å…¸ Atom ç¼–è¾‘å™¨æµ…è‰²ä¸»é¢˜     |
| brown-paper              | ç‰›çš®çº¸          | ç‰›çš®çº¸è´¨æ„Ÿï¼Œå¤å¤é£æ ¼         |
| codepen-embed            | CodePen åµŒå…¥    | CodePen é£æ ¼ï¼Œé€‚åˆåµŒå…¥å±•ç¤º   |
| color-brewer             | è°ƒè‰²ç›˜          | å¤šè‰²å¯¹æ¯”ï¼Œé¢œè‰²å±‚æ¬¡ä¸°å¯Œ       |
| dark                     | æ·±è‰²            | çº¯æ·±è‰²åŸºç¡€ä¸»é¢˜               |
| default                  | é»˜è®¤            | highlight.js é»˜è®¤é£æ ¼        |
| devibeans                | è±†å­é£æ ¼        | æš—è‰²å¯¹æ¯”å¼ºï¼Œç®€æ´             |
| docco                    | æ–‡æ¡£é£          | ç±»ä¼¼æ–‡æ¡£æ’ç‰ˆï¼Œé˜…è¯»æ€§å¥½       |
| far                      | FAR ç®¡ç†å™¨      | ä»¿ FAR ç®¡ç†å™¨ç•Œé¢é£æ ¼        |
| felipec                  | Felipe é£æ ¼     | ä¸ªäººåŒ–å¼ºï¼Œå¸¦è‰²å½©å¯¹æ¯”         |
| foundation               | Foundation      | åŸºäº Foundation æ¡†æ¶ä¸»é¢˜     |
| github-dark-dimmed       | GitHub æš—æ·¡     | GitHub æš—è‰²ä½äº®åº¦ç‰ˆ          |
| github-dark              | GitHub æ·±è‰²     | GitHub å®˜æ–¹æ·±è‰²ä¸»é¢˜          |
| github                   | GitHub          | GitHub å®˜æ–¹é»˜è®¤æµ…è‰²ä¸»é¢˜      |
| gml                      | GML             | GameMaker é£æ ¼               |
| googlecode               | Google Code     | Google Code çš„é…è‰²           |
| gradient-dark            | æ¸å˜æ·±è‰²        | èƒŒæ™¯å¸¦æ¸å˜ï¼Œç‚«é…·æ·±è‰²         |
| gradient-light           | æ¸å˜æµ…è‰²        | æ¸å˜æµ…è‰²ï¼Œç°ä»£æ„Ÿå¼º           |
| grayscale                | ç°åº¦            | ç°é˜¶é£æ ¼ï¼ŒæŠ¤çœ¼æç®€           |
| hybrid                   | æ··åˆé£æ ¼        | æ··æ­å¤šç§é¢œè‰²ï¼Œé£æ ¼ä¸­æ€§       |
| idea                     | IntelliJ IDEA   | JetBrains é£æ ¼æ·±è‰²ä¸»é¢˜       |
| intellij-light           | IntelliJ æµ…è‰²   | JetBrains ç³»åˆ—æµ…è‰²é£æ ¼       |
| ir-black                 | IR é»‘           | é»‘åº•äº®å­—ï¼Œç»å…¸ hacker é£     |
| isbl-editor-dark         | ISBL æ·±è‰²       | ISBL ç¼–è¾‘å™¨æ·±è‰²æ ·å¼          |
| isbl-editor-light        | ISBL æµ…è‰²       | ISBL ç¼–è¾‘å™¨æµ…è‰²æ ·å¼          |
| kimbie-dark              | Kimbie æ·±è‰²     | æš—é»„+æ£•è°ƒï¼Œå¤å¤é£æ ¼          |
| kimbie-light             | Kimbie æµ…è‰²     | æŸ”å’Œé»„æ£•è°ƒ                   |
| lightfair                | æ˜äº®å…¬å¹³        | æ˜äº®æ•´æ´ï¼Œå¸¦è“è°ƒ             |
| lioshi                   | Lioshi é£æ ¼     | è®¾è®¡æ„Ÿå¼ºï¼Œæ·±è‰²ä¸ªæ€§ä¸»é¢˜       |
| magula                   | é©¬å¤æ‹‰          | æ˜äº®ä¸”ä¸åˆºçœ¼                 |
| mono-blue                | å•è“è‰²          | è“è‰²ä¸ºä¸»è‰²è°ƒï¼Œå†·è‰²é£         |
| monokai-sublime          | Sublime Monokai | Sublime Text é…è‰²            |
| monokai                  | è«è¯ºå‡¯          | ç»å…¸ç¼–è¾‘å™¨é…è‰²ï¼Œæ·±è‰²é«˜å¯¹æ¯”   |
| night-owl                | å¤œçŒ«å­          | æ·±è‰²ï¼Œè“ç»¿è°ƒæŠ¤çœ¼ä¸»é¢˜         |
| nnfx-dark                | NNFX æ·±è‰²       | é»‘åº•ä½äº®åº¦æŠ¤çœ¼è‰²             |
| nnfx-light               | NNFX æµ…è‰²       | æŠ¤çœ¼ç»¿è‰²æµ…è‰²ä¸»é¢˜             |
| nord                     | åŒ—æå…‰          | å†°è“è‰²è°ƒï¼ŒæŸ”å’Œä¸åˆºçœ¼         |
| obsidian                 | é»‘æ›œçŸ³          | ç±» Obsidian è½¯ä»¶æ·±è‰²ä¸»é¢˜     |
| panda-syntax-dark        | ç†ŠçŒ«æ·±è‰²        | é«˜é¥±å’Œè‰²å½©ï¼Œé€‚åˆå¤œé—´ç¼–ç      |
| panda-syntax-light       | ç†ŠçŒ«æµ…è‰²        | æ˜äº®æ¸…æ™°ï¼Œç•¥å¸¦å½©è‰²é«˜äº®       |
| paraiso-dark             | å¤©å ‚æ·±è‰²        | ç´«è“æŸ”å’Œé…è‰²                 |
| paraiso-light            | å¤©å ‚æµ…è‰²        | æŸ”å’Œæµ…è‰²ä¸»é¢˜                 |
| pojoaque                 | æ³¢éœé˜¿å…‹        | å¤å¤å·è½´é£æ ¼                 |
| purebasic                | PureBasic é£æ ¼  | è“åº•ç™½å­—ï¼ŒPureBasic IDE é£æ ¼ |
| qtcreator-dark           | QtCreator æ·±è‰²  | Qt å¼€å‘å·¥å…·æ·±è‰²é…è‰²          |
| qtcreator-light          | QtCreator æµ…è‰²  | æµ…è‰² Qt ç¼–è¾‘å™¨é£æ ¼           |
| rainbow                  | å½©è™¹            | è‰²å½©ä¸°å¯Œï¼Œé€‚åˆæ¼”ç¤º           |
| routeros                 | RouterOS        | MikroTik RouterOS æ§åˆ¶å°é£æ ¼ |
| school-book              | è¯¾æœ¬é£          | ç±»æ•™ææ³¨é‡Šé£æ ¼               |
| shades-of-purple         | ç´«è‰²é˜´å½±        | ç´«è‰²è°ƒï¼Œè§†è§‰å†²å‡»å¼º           |
| srcery                   | Srcery é£æ ¼     | å¯¹æ¯”å¼ºçƒˆï¼Œçº¢è°ƒçªæ˜¾           |
| stackoverflow-dark       | SO æ·±è‰²         | StackOverflow æ·±è‰²ä¸»é¢˜       |
| stackoverflow-light      | SO æµ…è‰²         | StackOverflow æµ…è‰²ä¸»é¢˜       |
| sunburst                 | é˜³å…‰çˆ†å‘        | é»‘åº•é»„çº¢å­—ï¼Œç‚«å½©é£æ ¼         |
| tokyo-night-dark         | ä¸œäº¬å¤œæ™š        | è“ç´«è°ƒï¼ŒäºŒæ¬¡å…ƒå¤œé—´é£æ ¼       |
| tokyo-night-light        | ä¸œäº¬æ—¥é—´        | å¯¹åº”æ˜äº®ç‰ˆï¼Œæ—¥ç³»æ¸…æ–°é£       |
| tomorrow-night-blue      | æ˜æ—¥å¤œè“        | è“åº•äº®å­—ï¼Œæœªæ¥æ„Ÿå¼º           |
| tomorrow-night-bright    | æ˜æ—¥å¤œäº®        | æ˜äº®å¯¹æ¯”ç‰ˆ                   |
| vs                       | Visual Studio   | VS æµ…è‰²é£æ ¼                  |
| vs2015                   | VS2015 æ·±è‰²     | Visual Studio 2015 é£æ ¼      |
| xcode                    | Xcode           | macOS Xcode ç¼–è¾‘å™¨é…è‰²       |
| xt256                    | XT256           | ç»ˆç«¯é£æ ¼ï¼Œ16/256è‰²           |

### ğŸ–¼ï¸ Markdown ç¤ºä¾‹é¢„è§ˆ

* **æ¥å£è·¯å¾„**ï¼š`GET /markdown/preview`
* **æ”¯æŒå‚æ•°**ï¼šåŒä¸Š
* **å“åº”**ï¼šè¿”å› HTML é¡µé¢ï¼Œå†…å«é¢„è§ˆæ•ˆæœ

ç¤ºä¾‹å›¾ï¼š
![é¢„è§ˆæ•ˆæœå›¾](assets/preview.png)

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

```bash
# å…‹éš†ä»“åº“
git clone git@github.com:code-innovator-zyx/media-assistant-api.git
cd media-assistant-api

# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨å¼€å‘æœåŠ¡
pnpm dev
```

---

## ğŸ› ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

åœ¨æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
PORT=3000
NODE_ENV=development
```

### é»˜è®¤ä¸»é¢˜é…ç½®

åœ¨ `src/config/theme.ts` ä¸­è‡ªå®šä¹‰ï¼š

```ts
export const themes = {
  default: {
    fontSize: '16px',
    lineHeight: '1.6',
    // æ›´å¤šé…ç½®...
  },
  dark: {
    // æš—é»‘ä¸»é¢˜é…ç½®
  }
}
```

---

## ğŸ“Œ ç¤ºä¾‹è°ƒç”¨ï¼ˆPythonï¼‰

```python
def parse_html(md: str):
    params = {
        "data": md,
        "isMacCodeBlock": False,
        "fontSize": "14px"
    }
    res = requests.post(
        url="http://localhost:8080/api/markdown/html",
        data=json.dumps(params),
        headers={"Content-Type": "application/json"}
    )
    res.raise_for_status()
    return res.json()["data"]
```

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬é¡¹ç›®
2. æ–°å»ºåˆ†æ”¯ï¼š`git checkout -b feature/ä½ çš„åŠŸèƒ½åç§°`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'æ·»åŠ åŠŸèƒ½è¯´æ˜'`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/ä½ çš„åŠŸèƒ½åç§°`
5. å‘èµ· Pull Request

---

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®éµå¾ª [MIT](LICENSE) åè®®å¼€æºï¼Œæ¬¢è¿ä½¿ç”¨ä¸è´¡çŒ®ï¼
